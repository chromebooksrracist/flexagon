<html>

<head>
  <title>Flexagonator</title>
  <script src="build/out.js"></script>
  <script type="text/javascript">
    var flexagon = Flexagonator.makeFlexagon(Flexagonator.hexaHexaLeafTree);
    var fm = Flexagonator.makeFlexagonManager(flexagon, Flexagonator.hexaHexaProperties);

    function newFlexagons(value) {
      var leaftree = null;
      var props = undefined;
      switch (value) {
        case "5": leaftree = [1, 2, 3, 4, 5]; break;
        case "6": leaftree = [1, 2, 3, 4, 5, 6]; break;
        case "6,6": leaftree = Flexagonator.hexaHexaLeafTree; props = Flexagonator.hexaHexaProperties; break;
        case "7": leaftree = [1, 2, 3, 4, 5, 6, 7]; break;
        case "8": leaftree = [1, 2, 3, 4, 5, 6, 7, 8]; break;
      }

      if (leaftree != null) {
        var flexagon = Flexagonator.makeFlexagon(leaftree);
        fm = Flexagonator.makeFlexagonManager(flexagon, props);
        Flexagonator.drawAll('interface', fm);
      }
    }

    function setFaceLabel(value) {
      if (value !== "") {
        fm.setFaceLabel(value, true);
        Flexagonator.drawAll('interface', fm);
      }
    }

    function setFaceColor(value) {
      if (value !== "") {
        fm.setFaceColor(value, true);
        Flexagonator.drawAll('interface', fm);
      }
    }

    function flexAndShow(flex) {
      fm.applyFlexes(flex);
      Flexagonator.drawAll('interface', fm);
    }

    function generateFlexAndShow(flex) {
      fm.generateAndApplyFlexes(flex);
      Flexagonator.drawAll('interface', fm);
    }
  </script>
</head>

<body>
  <h1>Flexagonator</h1>

  <p>
    base flexagon:
    <select onchange="newFlexagons(event.srcElement.value)">
      <option value="5">penta</option>
      <option value="6">hexa</option>
      <option value="6,6" selected>6-sided hexa</option>
      <option value="7">hepta</option>
      <option value="8">octa</option>
    </select> &nbsp;&nbsp;&nbsp; set color:
    <select onchange="setFaceColor(event.srcElement.value)">
      <option value="" selected></option>
      <option value=0xff0000>red</option>
      <option value=0x00ff00>green</option>
      <option value=0x0000ff>blue</option>
      <option value=0x00ffff>cyan</option>
      <option value=0xffff00>yellow</option>
      <option value=0xff00ff>magenta</option>
      <option value=0xcccccc>grey</option>
    </select> &nbsp;&nbsp;&nbsp; set label:
    <select onchange="setFaceLabel(event.srcElement.value)">
      <option value="" selected></option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
    </select>
  </p>

  <p>
    apply:
    <input onclick="flexAndShow('>');" type="button" value=">" />
    <input onclick="flexAndShow('<');" type="button" value="<" />
    <input onclick="flexAndShow('^');" type="button" value="^" />
    <input onclick="flexAndShow('P');" type="button" value="P" />
    <input onclick="flexAndShow('P\'');" type="button" value="P'" />
    <input onclick="flexAndShow('T');" type="button" value="T" />
    <input onclick="flexAndShow('T\'');" type="button" value="T'" />
    <input onclick="flexAndShow('S');" type="button" value="S" />
    <input onclick="flexAndShow('S\'');" type="button" value="S'" />
    <input onclick="flexAndShow('V');" type="button" value="V" />
    <input onclick="flexAndShow('V\'');" type="button" value="V'" />
    <input onclick="flexAndShow('F');" type="button" value="F" />
    <input onclick="flexAndShow('F\'');" type="button" value="F'" />
    <input onclick="flexAndShow('Lt');" type="button" value="Lt" />
    <input onclick="flexAndShow('Lt\'');" type="button" value="Lt'" />
    <input onclick="flexAndShow('Ltb');" type="button" value="Ltb" />
    <input onclick="flexAndShow('Ltb\'');" type="button" value="Ltb'" />
  </p>

  <p>
    generate:
    <input onclick="generateFlexAndShow('P');" type="button" value="P" />
    <input onclick="generateFlexAndShow('P\'');" type="button" value="P'" />
    <input onclick="generateFlexAndShow('T');" type="button" value="T" />
    <input onclick="generateFlexAndShow('T\'');" type="button" value="T'" />
    <input onclick="generateFlexAndShow('S');" type="button" value="S" />
    <input onclick="generateFlexAndShow('S\'');" type="button" value="S'" />
    <input onclick="generateFlexAndShow('V');" type="button" value="V" />
    <input onclick="generateFlexAndShow('V\'');" type="button" value="V'" />
    <input onclick="generateFlexAndShow('F');" type="button" value="F" />
    <input onclick="generateFlexAndShow('F\'');" type="button" value="F'" />
    <input onclick="generateFlexAndShow('Lt');" type="button" value="Lt" />
    <input onclick="generateFlexAndShow('Lt\'');" type="button" value="Lt'" />
    <input onclick="generateFlexAndShow('Ltb');" type="button" value="Ltb" />
    <input onclick="generateFlexAndShow('Ltb\'');" type="button" value="Ltb'" />
    <input onclick="generateFlexAndShow('T1');" type="button" value="T1" />
    <input onclick="generateFlexAndShow('T2');" type="button" value="T2" />
    <input onclick="generateFlexAndShow('T3');" type="button" value="T3" />
  </p>

  <canvas id="interface" width="600" height="600"></canvas>
  <script type="text/javascript">
    Flexagonator.drawAll('interface', fm);
  </script>

</body>

</html>
